<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Soundboard Spam-Proof</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<style>
body {
    margin: 0;
    height: 100vh;
    background: #000;
    font-family: Arial, sans-serif;
}
.grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr 1fr;
    height: 100vh;
    gap: 10px;
    padding: 10px;
    box-sizing: border-box;
}
.pad {
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 5rem;
    font-weight: bold;
    color: white;
    border-radius: 20px;
    cursor: pointer;
    user-select: none;
    transition: transform 0.1s ease, filter 0.1s ease;
}
.pad:active {
    transform: scale(0.97);
    filter: brightness(1.2);
}
.beep { background: #ff4d4d; }
.applause { background: #4d79ff; }
.entry { background: #ffcc00; color: black; }
.jingle { background: #33cc99; }
</style>
</head>
<body>

<div class="grid">
    <div class="pad beep" onclick="playSound('beep')">BEEP</div>
    <div class="pad applause" onclick="playSound('applause')">APPLAUSE</div>
    <div class="pad entry" onclick="playSound('entry')">LIL DERAY ENTRY</div>
    <div class="pad jingle" onclick="playSound('jingle')">JINGLE</div>
</div>

<script>
// Création du contexte audio
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

// Sons à charger
const soundFiles = {
    beep: 'BEEP.mp3',
    applause: 'APPLAUSE.mp3',
    entry: 'LilDERAY-ENTRY.mp3',
    jingle: 'JINGLE.mp3'
};

const soundBuffers = {}; // pour stocker les buffers
const playingSources = {}; // pour stocker les sons en cours

// Fonction pour charger les sons
async function loadSounds() {
    for (const [name, url] of Object.entries(soundFiles)) {
        const response = await fetch(url);
        const arrayBuffer = await response.arrayBuffer();
        const audioBuffer = await audioCtx.decodeAudioData(arrayBuffer);
        soundBuffers[name] = audioBuffer;
    }
}
loadSounds();

// Fonction pour jouer un son
function playSound(name) {
    if (!soundBuffers[name]) return; // si pas encore chargé

    // Arrête le son s'il est déjà en cours
    if (playingSources[name]) {
        playingSources[name].stop();
    }

    // Crée une nouvelle source et joue
    const source = audioCtx.createBufferSource();
    source.buffer = soundBuffers[name];
    source.connect(audioCtx.destination);
    source.start(0);

    // Sauvegarde la source en cours
    playingSources[name] = source;

    // Supprime la référence quand le son se termine
    source.onended = () => {
        if (playingSources[name] === source) {
            delete playingSources[name];
        }
    };
}
</script>

</body>
</html>